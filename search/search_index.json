{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Welcome to FastRouter","text":"<p>A simple and intuitive file-based router for FastAPI. This package allows you to define your API routes by structuring your files and directories, making your project more organized and easier to navigate.</p> <p>Get Started</p>"},{"location":"#how-it-works","title":"How it Works","text":"<p>FastRouter uses Static Analysis (powered by Tree-sitter) to scan your <code>routes/</code> directory and map the file structure to your API endpoints. Unlike other routers, it doesn't need to execute your code to find routes, making it fast and safe.</p>"},{"location":"#features","title":"Features","text":""},{"location":"#file-based-routing","title":"File-Based Routing","text":"<p>Create a <code>.py</code> file in your <code>routes</code> directory, and it will automatically become an endpoint.</p> <ul> <li><code>routes/users.py</code> -&gt; <code>/users</code></li> <li><code>routes/posts/all.py</code> -&gt; <code>/posts/all</code></li> </ul>"},{"location":"#dynamic-routes","title":"Dynamic Routes","text":"<p>For routes with path parameters, use square brackets <code>[]</code>.</p> <ul> <li><code>routes/users/[id].py</code> -&gt; <code>/users/{id}</code></li> <li><code>routes/posts/[id:int].py</code> -&gt; <code>/users/{id:int}</code></li> </ul> <p>Example: <code>routes/users/[id].py</code> <pre><code>def get(id: str):\n    \"\"\"Get user by ID.\"\"\"\n    return {\"user_id\": id}\n</code></pre></p>"},{"location":"#catch-all-routes","title":"Catch-all Routes","text":"<p>To match multiple path segments, use the catch-all syntax <code>[...]</code>.</p> <ul> <li><code>routes/files/[...path].py</code> -&gt; <code>/files/{path:path}</code></li> </ul> <p>Example: <code>routes/files/[...path].py</code> <pre><code>def get(path: str):\n    \"\"\"Serve files from a path.\"\"\"\n    return {\"file_path\": path}\n</code></pre></p>"},{"location":"#index-routes","title":"Index Routes","text":"<p>An <code>index.py</code> file within a directory serves as the root endpoint for that path.</p> <ul> <li><code>routes/products/index.py</code> -&gt; <code>/products</code></li> </ul>"},{"location":"#lazy-loading","title":"Lazy Loading","text":"<p>Modules are only loaded when they are first requested. This keeps your startup time near-instant, regardless of how many routes you have.</p>"},{"location":"#rich-openapi-metadata","title":"Rich OpenAPI Metadata","text":"<p>Your docstrings are automatically parsed: - The first line becomes the Summary. - The rest becomes the Description.</p> <p>FastRouter simplifies route management and keeps your codebase clean and scalable.</p>"},{"location":"MIGRATION_GUIDE/","title":"Migration Guide: fast_router \u2192 create_router","text":""},{"location":"MIGRATION_GUIDE/#overview","title":"Overview","text":"<p>In version 0.3.0+, we've renamed the <code>fast_router</code> convenience function to <code>create_router</code> to prevent module shadowing and ensure compatibility with Python introspection tools, documentation generators, and type checkers.</p>"},{"location":"MIGRATION_GUIDE/#quick-migration","title":"Quick Migration","text":""},{"location":"MIGRATION_GUIDE/#simple-find-replace","title":"Simple Find &amp; Replace","text":"<p>Step 1: Update your imports <pre><code># Old (v0.2.x and earlier)\nfrom fast_router import fast_router\n\n# New (v0.3.0+)\nfrom fast_router import create_router\n</code></pre></p> <p>Step 2: Update function calls <pre><code># Old (v0.2.x and earlier)\nrouter = fast_router(\"routes\")\n\n# New (v0.3.0+)\nrouter = create_router(\"routes\")\n</code></pre></p> <p>That's it! The function signature and behavior are identical.</p>"},{"location":"MIGRATION_GUIDE/#why-this-change","title":"Why This Change?","text":"<p>The old name <code>fast_router</code> shadowed the <code>fast_router.fast_router</code> submodule, breaking Python's standard module introspection. This caused issues with:</p> <ul> <li>Documentation generators (Sphinx, pdoc)</li> <li>Type checkers (mypy, pyright)</li> <li>IDE introspection (PyCharm, VS Code)</li> <li>Any tool relying on <code>getattr()</code> or module inspection</li> </ul> <p>The new name <code>create_router</code> is more descriptive and follows Python best practices.</p>"},{"location":"MIGRATION_GUIDE/#migration-examples","title":"Migration Examples","text":""},{"location":"MIGRATION_GUIDE/#basic-usage","title":"Basic Usage","text":"<pre><code># Before\nfrom fast_router import fast_router\nrouter = fast_router(\"routes\")\napp = router.get_app()\n\n# After\nfrom fast_router import create_router\nrouter = create_router(\"routes\")\napp = router.get_app()\n</code></pre>"},{"location":"MIGRATION_GUIDE/#with-custom-configuration","title":"With Custom Configuration","text":"<pre><code># Before\nfrom fast_router import FastRouter\nrouter = FastRouter(\"routes\")\nrouter.set_tag_metadata(\"users\", description=\"User operations\")\nrouter.scan_routes()\napp = router.get_app()\n\n# After (no change needed for class-based usage)\nfrom fast_router import FastRouter\nrouter = FastRouter(\"routes\")\nrouter.set_tag_metadata(\"users\", description=\"User operations\")\nrouter.scan_routes()\napp = router.get_app()\n</code></pre>"},{"location":"MIGRATION_GUIDE/#uvicorn-integration","title":"Uvicorn Integration","text":"<pre><code># Before\nfrom fast_router import fast_router\nrouter = fast_router(\"routes\")\n\nif __name__ == \"__main__\":\n    import uvicorn\n    uvicorn.run(router.get_app(), host=\"0.0.0.0\", port=8000)\n\n# After\nfrom fast_router import create_router\nrouter = create_router(\"routes\")\n\nif __name__ == \"__main__\":\n    import uvicorn\n    uvicorn.run(router.get_app(), host=\"0.0.0.0\", port=8000)\n</code></pre>"},{"location":"MIGRATION_GUIDE/#alternative-keep-using-old-name","title":"Alternative: Keep Using Old Name","text":"<p>If you absolutely need to keep the old function name in your code (not recommended), you can import it from the submodule:</p> <pre><code>from fast_router.fast_router import fast_router\n\n# Works exactly as before\nrouter = fast_router(\"routes\")\n</code></pre> <p>Or create an alias:</p> <pre><code>from fast_router import create_router as fast_router\n\n# Use your preferred name\nrouter = fast_router(\"routes\")\n</code></pre>"},{"location":"MIGRATION_GUIDE/#whats-not-changed","title":"What's Not Changed","text":"<p>The following APIs remain completely unchanged:</p> <p>\u2705 <code>FastRouter</code> class \u2705 <code>FastRouter.scan_routes()</code> method \u2705 <code>FastRouter.get_app()</code> method \u2705 <code>FastRouter.get_routes()</code> method \u2705 <code>FastRouter.set_tag_metadata()</code> method \u2705 Route file structure and conventions \u2705 Dynamic route patterns (<code>[id]</code>, <code>[id:int]</code>, <code>[slug:]</code>, <code>[...path]</code>) \u2705 HTTP method handlers (<code>get</code>, <code>post</code>, <code>put</code>, <code>delete</code>, etc.) \u2705 All existing functionality and behavior  </p>"},{"location":"MIGRATION_GUIDE/#automated-migration-script","title":"Automated Migration Script","text":"<p>Here's a Python script to automatically update your codebase:</p> <pre><code>#!/usr/bin/env python3\n\"\"\"\nMigrate from fast_router to create_router\n\"\"\"\nimport re\nfrom pathlib import Path\n\ndef migrate_file(file_path):\n    \"\"\"Update a single Python file.\"\"\"\n    content = file_path.read_text()\n\n    # Pattern 1: from fast_router import fast_router\n    pattern1 = r'from fast_router import fast_router\\b'\n    replacement1 = 'from fast_router import create_router'\n    content = re.sub(pattern1, replacement1, content)\n\n    # Pattern 2: fast_router( function calls\n    pattern2 = r'\\bfast_router\\('\n    replacement2 = 'create_router('\n    content = re.sub(pattern2, replacement2, content)\n\n    file_path.write_text(content)\n    print(f\"\u2713 Updated {file_path}\")\n\ndef main():\n    \"\"\"Migrate all Python files in current directory.\"\"\"\n    for py_file in Path('.').rglob('*.py'):\n        if 'venv' in str(py_file) or '.venv' in str(py_file):\n            continue\n        try:\n            migrate_file(py_file)\n        except Exception as e:\n            print(f\"\u2717 Error updating {py_file}: {e}\")\n\nif __name__ == \"__main__\":\n    print(\"\ud83d\udd04 Migrating from fast_router to create_router...\")\n    main()\n    print(\"\u2705 Migration complete!\")\n</code></pre> <p>Save as <code>migrate.py</code> and run: <pre><code>python migrate.py\n</code></pre></p>"},{"location":"MIGRATION_GUIDE/#testing-after-migration","title":"Testing After Migration","text":"<ol> <li> <p>Run your test suite: <pre><code>pytest\n# or\npython -m pytest\n</code></pre></p> </li> <li> <p>Verify your application starts: <pre><code>python main.py\n# or\nuvicorn main:app --reload\n</code></pre></p> </li> <li> <p>Check for any remaining references: <pre><code>grep -r \"fast_router(\" --include=\"*.py\" .\n</code></pre></p> </li> </ol>"},{"location":"MIGRATION_GUIDE/#faq","title":"FAQ","text":""},{"location":"MIGRATION_GUIDE/#q-is-this-a-breaking-change","title":"Q: Is this a breaking change?","text":"<p>A: Yes, but it's a simple rename. The migration is straightforward and the benefits (proper module introspection, tool compatibility) are significant.</p>"},{"location":"MIGRATION_GUIDE/#q-can-i-use-both-names-during-migration","title":"Q: Can I use both names during migration?","text":"<p>A: Yes, you can temporarily import both: <pre><code>from fast_router import create_router\nfrom fast_router.fast_router import fast_router\n\n# Use whichever you need during transition\n</code></pre></p>"},{"location":"MIGRATION_GUIDE/#q-will-the-old-name-be-supported-in-future-versions","title":"Q: Will the old name be supported in future versions?","text":"<p>A: No. The old name creates fundamental issues with Python's module system. However, you can always import it from the submodule if needed.</p>"},{"location":"MIGRATION_GUIDE/#q-do-i-need-to-update-my-route-files","title":"Q: Do I need to update my route files?","text":"<p>A: No! Route files are unchanged. Only update the code where you create the router.</p>"},{"location":"MIGRATION_GUIDE/#q-what-if-im-using-the-fastrouter-class-directly","title":"Q: What if I'm using the <code>FastRouter</code> class directly?","text":"<p>A: No changes needed! The class-based API is unchanged: <pre><code>from fast_router import FastRouter  # Still works exactly the same\n</code></pre></p>"},{"location":"MIGRATION_GUIDE/#q-are-there-any-performance-differences","title":"Q: Are there any performance differences?","text":"<p>A: No. This is purely a naming change with zero performance impact.</p>"},{"location":"MIGRATION_GUIDE/#q-what-about-type-hints","title":"Q: What about type hints?","text":"<p>A: Type hints work the same way: <pre><code>from fast_router import FastRouter, create_router\n\ndef setup_router() -&gt; FastRouter:\n    return create_router(\"routes\")\n</code></pre></p>"},{"location":"MIGRATION_GUIDE/#version-compatibility","title":"Version Compatibility","text":"Version <code>fast_router</code> Function <code>create_router</code> Function Recommendation &lt; 0.3.0 \u2705 Available \u274c Not Available Use <code>fast_router</code> \u2265 0.3.0 \u26a0\ufe0f Submodule only \u2705 Available Use <code>create_router</code>"},{"location":"MIGRATION_GUIDE/#getting-help","title":"Getting Help","text":"<p>If you encounter issues during migration:</p> <ol> <li>Check the examples: See <code>example/main.py</code> for updated usage</li> <li>Run the test suite: <code>pytest tests/</code> to see working examples</li> <li>File an issue: GitHub Issues</li> <li>Read the docs: Full documentation at [docs link]</li> </ol>"},{"location":"MIGRATION_GUIDE/#summary-checklist","title":"Summary Checklist","text":"<ul> <li>[ ] Update imports: <code>from fast_router import create_router</code></li> <li>[ ] Update function calls: <code>create_router(\"routes\")</code></li> <li>[ ] Run tests to verify everything works</li> <li>[ ] Update documentation/comments</li> <li>[ ] Search for any remaining references</li> <li>[ ] Commit changes</li> </ul>"},{"location":"MIGRATION_GUIDE/#additional-resources","title":"Additional Resources","text":"<ul> <li>README.md - Updated usage examples</li> <li>tests/test_introspection.py - Working examples</li> </ul> <p>Need help? Open an issue or check the examples directory for updated code samples.</p>"},{"location":"advanced-features/","title":"Advanced Features","text":"<p>FastRouter is designed for performance and developer experience. Here are some of the advanced features that set it apart.</p>"},{"location":"advanced-features/#static-analysis-tree-sitter","title":"Static Analysis (Tree-sitter)","text":"<p>FastRouter uses Static Analysis to discover your routes. Instead of importing every file in your <code>routes/</code> directory at startup, it uses Tree-sitter to parse the source code and identify: - Which HTTP methods are implemented (<code>get</code>, <code>post</code>, etc.). - The function signatures (parameters, type hints, defaults). - Docstrings for OpenAPI documentation.</p>"},{"location":"advanced-features/#why-static-analysis","title":"Why Static Analysis?","text":"<ul> <li>Speed: Startup is nearly instantaneous, even with hundreds of routes.</li> <li>Safety: We don't execute any top-level code in your route files during discovery.</li> <li>Validation: We can detect \"stray\" functions that don't match HTTP methods and warn you.</li> </ul>"},{"location":"advanced-features/#lazy-loading","title":"Lazy Loading","text":"<p>By default, FastRouter is Lazy. It doesn't import your route modules until the first request hits that specific endpoint.</p>"},{"location":"advanced-features/#side-effect-isolation","title":"Side-Effect Isolation","text":"<p>Because of lazy loading, any top-level code in your route files (like database connections or heavy model loading) won't run until it's actually needed.</p>"},{"location":"advanced-features/#smart-fallback","title":"Smart Fallback","text":"<p>If a route uses complex FastAPI features that require runtime introspection (like <code>Depends()</code>, <code>Body()</code>, or custom Pydantic models), FastRouter automatically detects this and falls back to Immediate Loading for that specific route to ensure full compatibility.</p>"},{"location":"advanced-features/#rich-openapi-metadata","title":"Rich OpenAPI Metadata","text":"<p>FastRouter automatically enhances your Swagger UI (<code>/docs</code>) using your Python docstrings.</p>"},{"location":"advanced-features/#summaries-descriptions","title":"Summaries &amp; Descriptions","text":"<ul> <li>Summary: The first line of your function docstring.</li> <li>Description: Everything after the first line.</li> </ul> <pre><code>def get(id: int):\n    \"\"\"\n    Get a user by their ID.\n\n    This part will appear in the expanded description section.\n    You can use **Markdown** here!\n    \"\"\"\n    return {\"id\": id}\n</code></pre>"},{"location":"advanced-features/#tag-metadata","title":"Tag Metadata","text":"<p>You can customize the documentation for entire directories (tags) using <code>set_tag_metadata</code>:</p> <pre><code>from fast_router import fast_router\n\nrouter = fast_router(\"routes\")\nrouter.set_tag_metadata(\n    \"users\", \n    description=\"Operations with users and their profiles.\",\n    external_docs={\"description\": \"User Guide\", \"url\": \"https://example.com/docs\"}\n)\n</code></pre>"},{"location":"advanced-features/#parameter-validation","title":"Parameter Validation","text":"<p>FastRouter validates your dynamic segment names. If you use a parameter in a filename (like <code>[id].py</code>) but forget to include it in your function signature (<code>def get():</code>), FastRouter will raise a clear error at startup.</p>"},{"location":"changelog/","title":"Changelog","text":"<p>All notable changes to FastRouter will be documented in this file.</p>"},{"location":"changelog/#030-2025-12-29","title":"[0.3.0] - 2025-12-29","text":""},{"location":"changelog/#changed","title":"Changed","text":"<ul> <li>API Renaming: Renamed the convenience function <code>fast_router</code> to <code>create_router</code> to prevent module shadowing issues.<ul> <li>Migration: Replace <code>from fast_router import fast_router</code> with <code>from fast_router import create_router</code>.</li> <li>See Migration Guide for detailed instructions.</li> </ul> </li> </ul>"},{"location":"changelog/#added","title":"Added","text":"<ul> <li>Encoding Support: Added PEP 263 encoding detection. The analyzer now respects file encoding declarations (e.g., <code># -*- coding: latin-1 -*-</code>), supporting non-UTF-8 route files.</li> <li>Version Info: Added <code>__version__</code> to the package root for runtime version checking.</li> </ul>"},{"location":"changelog/#fixed","title":"Fixed","text":"<ul> <li>Variable Defaults: Fixed lazy loading for parameters with default values referencing variables (e.g., <code>page_size: int = DEFAULT_SIZE</code>). These are now correctly resolved instead of being treated as required.</li> <li>Module Shadowing: Fixed an issue where the <code>fast_router</code> function shadowed the <code>fast_router</code> submodule, breaking Python introspection tools and documentation generators.</li> <li>Error Logging: Fixed duplicate error logging where exceptions during route scanning were logged twice.</li> </ul>"},{"location":"changelog/#020-2025-12-26","title":"[0.2.0] - 2025-12-26","text":""},{"location":"changelog/#changed_1","title":"Changed","text":"<ul> <li>PEP 8 Naming Refactor: <ul> <li>Renamed <code>FileBasedRouter</code> class to <code>FastRouter</code>.</li> <li>Renamed package from <code>file_router</code> to <code>fast_router</code>.</li> </ul> </li> <li>Project Structure: Finalized the move to <code>src/fast_router</code>.</li> </ul>"},{"location":"changelog/#010-2025-12-26","title":"[0.1.0] - 2025-12-26","text":""},{"location":"changelog/#added_1","title":"Added","text":"<ul> <li>Static Analysis: Integrated Tree-sitter for route discovery without code execution.</li> <li>Lazy Loading: Implemented on-demand module loading for faster startup.</li> <li>Side-Effect Isolation: Top-level code in route files now only runs when the route is first accessed.</li> <li>OpenAPI Metadata: Automatic extraction of summaries and descriptions from docstrings.</li> <li>Tag Metadata: Added <code>set_tag_metadata</code> for documenting directories.</li> <li>Parameter Validation: Startup-time validation for path parameter names.</li> <li>Smart Fallback: Automatic detection of complex dependencies requiring immediate loading.</li> </ul>"},{"location":"changelog/#changed_2","title":"Changed","text":"<ul> <li>Handler Syntax: Switched from <code>APIRouter</code> to simple function-based handlers (<code>def get()</code>, <code>def post()</code>, etc.).</li> <li>Dynamic Segments: Improved regex-based parsing for <code>[id]</code>, <code>[id:int]</code>, <code>[slug:]</code>, and <code>[...path]</code>.</li> <li>Project Structure: Moved example code to a dedicated <code>example/</code> directory.</li> </ul>"},{"location":"changelog/#future-plans","title":"Future Plans","text":"<ul> <li>Middleware Support: Directory-level middleware (e.g., <code>_middleware.py</code>).</li> <li>Dependency Injection: Enhanced support for shared dependencies across directories.</li> <li>WebSocket Support: File-based routing for WebSockets.</li> <li>Auto-Generation: Tools to scaffold new route files.</li> <li>Performance Monitoring: Built-in metrics for route loading times.</li> </ul>"},{"location":"getting-started/","title":"Getting Started","text":"<p>This guide will walk you through setting up and using FastRouter in your project.</p>"},{"location":"getting-started/#installation","title":"Installation","text":"<p>We recommend using uv for dependency management.</p> <pre><code>uv add fast-router\n</code></pre> <p>Or using pip:</p> <pre><code>pip install fast-router\n</code></pre>"},{"location":"getting-started/#basic-usage","title":"Basic Usage","text":""},{"location":"getting-started/#1-create-a-routes-directory","title":"1. Create a <code>routes</code> directory","text":"<p>In your project's root directory, create a folder named <code>routes</code>.</p> <pre><code>.\n\u251c\u2500\u2500 main.py\n\u2514\u2500\u2500 routes/\n</code></pre>"},{"location":"getting-started/#2-define-your-routes","title":"2. Define your routes","text":"<p>Create Python files inside the <code>routes</code> directory. For example, to create a \"Hello World\" endpoint at the root (<code>/</code>), create <code>routes/index.py</code>:</p> <pre><code>def get():\n    \"\"\"Welcome to FastRouter!\"\"\"\n    return {\"message\": \"Hello World\"}\n</code></pre>"},{"location":"getting-started/#3-integrate-with-fastapi","title":"3. Integrate with FastAPI","text":"<p>In your <code>main.py</code>, use the <code>fast_router</code> helper:</p> <pre><code>import uvicorn\nfrom fastapi import FastAPI\nfrom fast_router import create_router\n\n# Initialize the router\nrouter = fast_router(\"routes\")\napp = router.get_app()\n\nif __name__ == \"__main__\":\n    uvicorn.run(\"main:app\", host=\"0.0.0.0\", port=8000, reload=True)\n</code></pre>"},{"location":"getting-started/#running-the-server","title":"Running the Server","text":"<p>Run your application using <code>uv</code>:</p> <pre><code>PYTHONPATH=src uv run main.py\n</code></pre> <p>Now visit <code>http://127.0.0.1:8000/</code> to see your API in action, or <code>http://127.0.0.1:8000/docs</code> for the interactive documentation.</p>"},{"location":"internal-api/","title":"Internal API Reference","text":"<p>This page documents the internal classes and methods used by FastRouter. This is useful if you want to extend the router or understand its inner workings.</p>"},{"location":"internal-api/#fastrouter","title":"<code>FastRouter</code>","text":"<p>The main class responsible for scanning the directory and registering routes with FastAPI.</p>"},{"location":"internal-api/#methods","title":"Methods","text":""},{"location":"internal-api/#__init__routes_dir-str-routes-app-fastapi-none","title":"<code>__init__(routes_dir: str = \"routes\", app: FastAPI = None)</code>","text":"<p>Initializes the router. - <code>routes_dir</code>: The directory to scan for route files. - <code>app</code>: An optional existing FastAPI instance. If not provided, a new one is created.</p>"},{"location":"internal-api/#scan_routes","title":"<code>scan_routes()</code>","text":"<p>Scans the <code>routes_dir</code> and registers all discovered routes. This method uses the <code>StaticAnalyzer</code> for discovery.</p>"},{"location":"internal-api/#set_tag_metadataname-str-description-str-none-external_docs-dictstr-str-none","title":"<code>set_tag_metadata(name: str, description: str = None, external_docs: Dict[str, str] = None)</code>","text":"<p>Sets metadata for a specific tag (directory). - <code>name</code>: The name of the tag (usually the directory name). - <code>description</code>: A description for the tag. - <code>external_docs</code>: A dictionary with <code>description</code> and <code>url</code>.</p>"},{"location":"internal-api/#get_app-fastapi","title":"<code>get_app() -&gt; FastAPI</code>","text":"<p>Returns the FastAPI application instance with all routes registered.</p>"},{"location":"internal-api/#get_routes-listdictstr-any","title":"<code>get_routes() -&gt; List[Dict[str, Any]]</code>","text":"<p>Returns a list of all registered routes and their metadata.</p>"},{"location":"internal-api/#staticanalyzer","title":"<code>StaticAnalyzer</code>","text":"<p>The class responsible for parsing Python files using Tree-sitter.</p>"},{"location":"internal-api/#methods_1","title":"Methods","text":""},{"location":"internal-api/#analyze_filefile_path-path-dictstr-any","title":"<code>analyze_file(file_path: Path) -&gt; Dict[str, Any]</code>","text":"<p>Parses a Python file and extracts route information. - Returns: A dictionary containing:     - <code>handlers</code>: A map of HTTP methods to handler info (name, params, docstring).     - <code>stray_functions</code>: A list of function names that don't match HTTP methods and aren't private (don't start with <code>_</code>).</p>"},{"location":"internal-api/#handler-info-structure","title":"Handler Info Structure","text":"<p>The <code>handlers</code> dictionary contains: - <code>name</code>: The original function name. - <code>params</code>: A list of parameter dictionaries (name, type, default). - <code>docstring</code>: The raw docstring extracted from the function.</p>"},{"location":"examples/REQUEST_BODIES/","title":"Request Body Handling","text":"<p>FastRouter handles request bodies through FastAPI's dependency injection system. Because the router preserves your function signatures, FastAPI can automatically handle:</p> <ul> <li>JSON Request Bodies (Pydantic models)</li> <li>Query Parameters </li> <li>Headers</li> <li>Form Data</li> <li>Raw Request Access</li> </ul>"},{"location":"examples/REQUEST_BODIES/#how-it-works","title":"How It Works","text":"<p>FastRouter uses static analysis to find your functions, but it doesn't change how FastAPI works. When a request comes in, FastAPI sees your function exactly as you wrote it.</p>"},{"location":"examples/REQUEST_BODIES/#examples","title":"Examples","text":""},{"location":"examples/REQUEST_BODIES/#1-json-request-body-pydantic-models","title":"1. JSON Request Body (Pydantic Models)","text":"<pre><code># routes/users/index.py\nfrom pydantic import BaseModel\n\nclass UserCreate(BaseModel):\n    name: str\n    email: str\n\ndef post(user_data: UserCreate):\n    \"\"\"Create a new user.\"\"\"\n    return {\"user\": user_data.dict()}\n</code></pre> <p>Usage: <code>POST /users</code> with JSON body <code>{\"name\": \"John\", \"email\": \"john@example.com\"}</code></p>"},{"location":"examples/REQUEST_BODIES/#2-path-parameters-request-body","title":"2. Path Parameters + Request Body","text":"<pre><code># routes/users/[id:int].py\nfrom pydantic import BaseModel\n\nclass UserUpdate(BaseModel):\n    name: str = None\n\ndef put(id: int, user_data: UserUpdate):\n    \"\"\"Update user by ID.\"\"\"\n    return {\"id\": id, \"updated_data\": user_data}\n</code></pre> <p>Usage: <code>PUT /users/123</code> with JSON body</p>"},{"location":"examples/REQUEST_BODIES/#3-query-parameters-headers","title":"3. Query Parameters + Headers","text":"<pre><code># routes/posts.py\nfrom fastapi import Query, Header\nfrom typing import Optional\n\ndef get(\n    limit: int = Query(10),\n    authorization: Optional[str] = Header(None)\n):\n    \"\"\"Get posts with pagination and auth check.\"\"\"\n    return {\"limit\": limit, \"has_auth\": authorization is not None}\n</code></pre> <p>Usage: <code>GET /posts?limit=5</code> with <code>Authorization</code> header</p>"},{"location":"examples/REQUEST_BODIES/#4-multiple-body-parts","title":"4. Multiple Body Parts","text":"<pre><code>from fastapi import Body\n\ndef put(\n    post_data: dict = Body(...),\n    comments: list = Body([]),\n):\n    \"\"\"Update post and comments in one request.\"\"\"\n    return {\"post\": post_data, \"comments\": comments}\n</code></pre>"},{"location":"examples/REQUEST_BODIES/#5-raw-request-access","title":"5. Raw Request Access","text":"<pre><code>from fastapi import Request\n\nasync def patch(request: Request):\n    \"\"\"Handle raw request for custom processing.\"\"\"\n    body = await request.body()\n    return {\"body_size\": len(body)}\n</code></pre>"},{"location":"examples/REQUEST_BODIES/#supported-parameter-types","title":"Supported Parameter Types","text":"Type Example Usage Path <code>id: int</code> From URL: <code>/users/{id}</code> JSON Body <code>user: UserModel</code> From request body Query <code>limit: int = Query(10)</code> From URL: <code>?limit=10</code> Header <code>auth: str = Header(None)</code> From HTTP headers Form <code>name: str = Form(...)</code> From form data Raw <code>request: Request</code> Full request access <p>FastRouter automatically handles all FastAPI parameter types while adding file-based routing capabilities! \ud83d\ude80</p>"}]}